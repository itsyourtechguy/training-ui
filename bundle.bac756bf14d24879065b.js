"use strict";(self.webpackChunkteskalabs_training_ui_app=self.webpackChunkteskalabs_training_ui_app||[]).push([[724],{724:function(e,t,a){a.d(t,{default:function(){return p}});var l=a(8795),s=a(6540),n=a(4976),m=a(8492);var r=({app:e,currentTenant:t})=>{const{t:a}=(0,m.B)(),r=e=>e?new Date(1e3*e).toISOString():"",c=[{title:a("Username"),thStyle:{minWidth:"8rem"},render:({row:e})=>s.createElement(n.Link,{to:`/detail/${e.id}`,title:`${a("ID")}: ${e.id}`},e.username)},{title:a("Email"),thStyle:{minWidth:"12rem"},render:({row:e})=>s.createElement("span",null,e.email)},{title:a("Created At"),thStyle:{minWidth:"8rem"},render:({row:e})=>s.createElement(l.DateTime,{value:r(e.created),dateTimeFormat:"medium"})},{title:a("Last Sign In"),thStyle:{minWidth:"8rem"},render:({row:e})=>s.createElement(l.DateTime,{value:r(e.last_sign_in),dateTimeFormat:"medium"})},{title:a("Address"),thStyle:{minWidth:"15rem"},render:({row:e})=>s.createElement("span",null,e.address)}],d=()=>s.createElement("div",{className:"d-flex justify-content-between align-items-center"},s.createElement("h3",null,s.createElement("i",{className:"bi bi-people pe-2"}),a("Users")),s.createElement("button",{type:"button",className:"btn btn-danger",onClick:()=>alert(a("Terminate all clicked"))},a("Terminate all")));return s.createElement(l.DataTableCard2,{app:e,columns:c,loader:async({params:e})=>{e.tenant=t;const a=new URLSearchParams(e).toString(),l=await fetch(`https://devtest.teskalabs.com/data?${a}`),s=await l.json();return{rows:s.data,count:s.count}},header:s.createElement(d,null)})},c=a(7767),d=a(4758),i=a(7959),o=a(4752),u=a(5606);var E=({currentTenant:e})=>{const{t:t}=(0,m.B)(),{id:a}=(0,c.useParams)(),n=(0,c.useNavigate)(),[r,E]=(0,s.useState)(null),[p,N]=(0,s.useState)(!0),[b,h]=(0,s.useState)(null),f=e=>e?new Date(1e3*e).toISOString():"";return(0,s.useEffect)((()=>{(async()=>{N(!0),h(null);try{const t=`https://devtest.teskalabs.com/detail/${a}?tenant=${e}`,l=await fetch(t);if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);const s=await l.json();E(s)}catch(e){h(e.message)}finally{N(!1)}})()}),[a,e]),p?s.createElement(l.ResultCard,{body:t("Loading..."),isSuccessful:!0}):b?s.createElement(l.ResultCard,{body:`${t("Error")}: ${b}`,isSuccessful:!1}):r?s.createElement(d.A,{className:"my-4",style:{maxWidth:"800px",width:"100%"}},s.createElement(i.A,{className:"d-flex align-items-center gap-2"},s.createElement("h4",{className:"mb-0 d-flex align-items-center gap-2"},s.createElement("i",{className:"bi bi-person-lines-fill"}),t("User Detail")),s.createElement(o.A,{color:"secondary",size:"sm",onClick:()=>n(-1),className:"ms-auto",style:{flexShrink:0},title:t("Back to list")},s.createElement("i",{className:"bi bi-arrow-left pe-1"}),t("Back"))),s.createElement(u.A,null,s.createElement("dl",{className:"row"},s.createElement("dt",{className:"col-sm-3"},t("ID")),s.createElement("dd",{className:"col-sm-9"},r.id),s.createElement("dt",{className:"col-sm-3"},t("Username")),s.createElement("dd",{className:"col-sm-9"},r.username),s.createElement("dt",{className:"col-sm-3"},t("Email")),s.createElement("dd",{className:"col-sm-9"},r.email),s.createElement("dt",{className:"col-sm-3"},t("Created At")),s.createElement("dd",{className:"col-sm-9"},s.createElement(l.DateTime,{value:f(r.created),dateTimeFormat:"medium"})),s.createElement("dt",{className:"col-sm-3"},t("Last Sign In")),s.createElement("dd",{className:"col-sm-9"},s.createElement(l.DateTime,{value:f(r.last_sign_in),dateTimeFormat:"medium"})),s.createElement("dt",{className:"col-sm-3"},t("Address")),s.createElement("dd",{className:"col-sm-9"},r.address),s.createElement("dt",{className:"col-sm-3"},t("Phone Number")),s.createElement("dd",{className:"col-sm-9"},r.phone_number),s.createElement("dt",{className:"col-sm-3"},t("IP Address")),s.createElement("dd",{className:"col-sm-9"},r.ip_address),s.createElement("dt",{className:"col-sm-3"},t("MAC Address")),s.createElement("dd",{className:"col-sm-9"},r.mac_address)))):s.createElement(l.ResultCard,{body:t("No data found"),isSuccessful:!1})};class p extends l.Module{constructor(e,t){super(e,"TableApplicationModule"),e.Router.addRoute({path:"/",end:!1,name:"Table",component:r}),e.Router.addRoute({path:"/detail/:id",name:"Detail",component:E}),e.Navigation.addItem({name:"Table",icon:"bi bi-table",url:"/"})}}}}]);